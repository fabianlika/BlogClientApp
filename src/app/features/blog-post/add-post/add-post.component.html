<div class="container mt-5 form-container">
  <form #postForm="ngForm" (ngSubmit)="onSubmit()" class="form-content">
    <h1 class="form-title">Add New Post</h1>
    <div class="form-group">
      <label for="title" class="form-label">Title</label>
      <input type="text" id="title" name="title" [(ngModel)]="post.Title" required class="form-control" maxlength="100">
    </div>

    <div class="form-group">
      <label for="content" class="form-label">Content</label>
      <div #editor class="form-control quill-editor"></div>
    </div>

    <div class="form-group custom-dropdown">
      <label for="category" class="form-label">Category</label>
      <div (click)="toggleDropdown()" class="dropdown-selected">
        {{ selectedCategory || 'Select a Category' }} <span class="arrow">{{ isDropdownOpen ? '▲' : '▼' }}</span>
      </div>
      <div *ngIf="isDropdownOpen" class="dropdown-list">
        <div *ngFor="let category of categories" (click)="selectCategory(category)" class="dropdown-item">
          {{ category.Name }}
        </div>
      </div>
      <input type="hidden" name="category" [(ngModel)]="post.CategoryId" />
    </div>

    <div class="form-group mt-3">
      <label for="file" class="form-label">Upload Files</label>
      <input 
        type="file" 
        id="file" 
        (change)="onFileChange($event)" 
        class="form-control file-input" 
        accept="image/*" 
        multiple 
      />
      <div *ngIf="fileWarning" class="alert alert-danger mt-2">
        {{ fileWarning }}
      </div>
      <div *ngIf="selectedFiles.length > 0" class="mt-2">
        <h6>Selected Files:</h6>
        <ul class="list-group">
          <li *ngFor="let file of selectedFiles" class="list-group-item">{{ file.name }}</li>
        </ul>
      </div>
    </div>

    <button type="submit" class="btn btn-submit" [disabled]="!postForm.valid">Add Post</button>
  </form>
</div>
